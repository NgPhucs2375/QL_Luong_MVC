@model QL_Luong_MVC.Models.TaiKhoan
@{
    ViewBag.Title = "Đổi mật khẩu";
    Layout = "~/Views/Shared/_LayoutNhanVien.cshtml";

    // Khai báo lại các biến màu CSS từ Layout
    var primaryGreenDark = "rgb(77, 102, 72)";
    var darkBrown = "rgb(82, 60, 52)";
}

<style>
    .card-header h4 {
        color: @darkBrown !important; /* Nâu trầm */
        font-family: 'Playfair Display', serif;
    }

    .card-header i.fas {
        color: @primaryGreenDark; /* Xanh Lá Đậm */
    }

    .fw-bold-dark {
        color: @darkBrown; /* Nâu trầm cho label */
    }

    /* Nút Submit */
    .btn-primary {
        background-color: @primaryGreenDark !important;
        border-color: @primaryGreenDark !important;
        color: #fff !important;
        font-weight: 700;
    }

    .btn-primary:hover {
        background-color: @darkBrown !important;
        border-color: @darkBrown !important;
    }
</style>

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card shadow-lg border-0 rounded-lg">
                <div class="card-header bg-white border-0 pt-4 pb-0">
                    <h4 class="fw-bold"><i class="fas fa-lock me-2"></i> Đổi mật khẩu</h4>
                    <p class="text-muted small">Mật khẩu mới phải có ít nhất 6 ký tự.</p>
                </div>
                <div class="card-body p-4">

                    @if (ViewBag.Error != null)
                    {
                        <div class="alert alert-danger shadow-sm small">
                            <i class="fas fa-exclamation-circle mr-2"></i> @ViewBag.Error
                        </div>
                    }

                    @using (Html.BeginForm("ChangePassword", "Login", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()

                        <div class="form-group mb-3">
                            <label class="fw-bold-dark fw-bold">Mật khẩu cũ <span class="text-danger">*</span></label>
                            <input type="password" name="oldPassword" class="form-control" required placeholder="Nhập mật khẩu cũ hiện tại" />
                        </div>

                        <div class="form-group mb-3">
                            <label class="fw-bold-dark fw-bold">Mật khẩu mới <span class="text-danger">*</span></label>
                            <input type="password" name="newPassword" class="form-control" required placeholder="Mật khẩu mới (ít nhất 6 ký tự)" />
                        </div>

                        <div class="form-group mb-4">
                            <label class="fw-bold-dark fw-bold">Xác nhận mật khẩu mới <span class="text-danger">*</span></label>
                            <input type="password" name="confirmNewPassword" class="form-control" required placeholder="Nhập lại mật khẩu mới" />
                        </div>

                        <div class="d-grid mt-4">
                            <button type="submit" class="btn btn-primary btn-block px-4 shadow">
                                <i class="fas fa-key me-2"></i> Đổi mật khẩu
                            </button>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>