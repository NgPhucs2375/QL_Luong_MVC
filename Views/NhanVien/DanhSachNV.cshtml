@model List<QL_Luong_MVC.Models.NhanVien>
@{
    ViewBag.Title = "Danh Sách Nhân Viên";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    /* CSS Tùy chỉnh cho Table View (Áp dụng lại từ View trước) */
    .theme-card {
        border: none;
        padding: 1.5rem;
        border-radius: 15px;
        /* Áp dụng Kính Mờ và shadow tím */
        background-color: var(--color-content-bg) !important;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 15px rgba(106, 13, 173, 0.15);
    }

    /* Header Bảng Tím đậm */
    .table-purple-head {
        background-color: #6A0DAD !important; /* Tím đậm (30%) */
        color: white;
    }

    /* Hover Bảng Tím nhạt */
    .table-hover tbody tr:hover {
        background-color: rgba(106, 13, 173, 0.1) !important; /* Tím mờ nhạt */
    }

    /* Stripe Bảng (Tím siêu nhạt) */
    .table-striped tbody tr:nth-of-type(odd) {
        background-color: var(--color-main-bg) !important; /* Tím siêu nhạt */
    }

    /* Nút Sửa (Vàng Nhấn) */
    .btn-edit-accent {
        background-color: var(--color-accent) !important; /* Vàng #FFC107 */
        border-color: var(--color-accent) !important;
        color: var(--color-text-dark-purple) !important;
        font-weight: 600;
        transition: all 0.2s ease;
    }

        .btn-edit-accent:hover {
            background-color: var(--color-accent-hover) !important; /* Cam #FFB74D */
            border-color: var(--color-accent-hover) !important;
        }

    /* Nút Xóa (Đỏ Cảnh báo) */
    .btn-delete-danger-themed {
        background-color: #DC3545 !important;
        color: white !important;
        border-color: #DC3545 !important;
        transition: all 0.2s ease;
    }

        .btn-delete-danger-themed:hover {
            background-color: #C82333 !important;
        }

    /* Nút Thêm (Vàng/Cam Nhấn - Primary Action) */
    .btn-add-primary {
        background-color: var(--color-accent) !important; /* Vàng #FFC107 */
        border-color: var(--color-accent) !important;
        color: var(--color-text-dark-purple) !important;
        font-weight: 700;
        transition: all 0.2s ease;
    }

        .btn-add-primary:hover {
            background-color: var(--color-accent-hover) !important; /* Cam #FFB74D */
            border-color: var(--color-accent-hover) !important;
            transform: translateY(-2px);
        }

    /* Alert Tím nhạt */
    .alert-themed-info {
        background-color: #e3e0f9 !important; /* Tím siêu nhạt */
        color: #4a148c !important; /* Tím đậm */
        border: 1px solid #cbb2ff !important;
        font-weight: 600;
        border-radius: 10px;
    }
</style>

<div class="container-fluid">
    <h2 class="text-center mb-4" style="color: var(--color-text-dark-purple); font-weight: 700;">
        <i class="fas fa-list-alt mr-2"></i> Danh Sách Nhân Viên
    </h2>

    @if (TempData["ThongBao"] != null)
    {
        <div class="alert alert-themed-info">
            <i class="fas fa-check-circle me-2"></i> @TempData["ThongBao"]
        </div>
    }

    <a href="@Url.Action("ThemNV", "NhanVien")" class="btn btn-add-primary mt-3 mb-4 shadow-sm">
        <i class="fas fa-user-plus me-1"></i> Thêm Nhân Viên
    </a>

    <div class="card theme-card mb-4">
        <div class="table-responsive">
            <table class="table table-bordered table-striped table-hover align-middle">
                <thead class="table-purple-head">
                    <tr>
                        <th>Mã NV</th>
                        <th>Họ Tên</th>
                        <th>Ngày Sinh</th>
                        <th>Giới Tính</th>
                        <th>Địa Chỉ</th>
                        <th>Điện Thoại</th>
                        <th>Email</th>
                        <th>Trạng Thái</th>
                        <th>Chức Vụ</th>
                        <th>Phòng Ban</th>
                        <th style="width: 120px;">Hành Động</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var nv in Model)
                    {
                        <tr>
                            <td>
                                <span style="font-weight: 600; color: #6A0DAD;">@nv.IDNhanVien</span>
                            </td>
                            <td>@nv.FullNameNhanVien</td>
                            <td>@nv.DayOfBirth_NhanVien.ToString("dd/MM/yyyy")</td>
                            <td>@nv.Sex_NhanVien</td>
                            <td>@nv.Address_NhanVien</td>
                            <td>@nv.SDT_NhanVien</td>
                            <td>@nv.Email_NhanVien</td>
                            <td>@nv.State_NhanVien</td>
                            <td>@nv.IDCV_NhanVien</td>
                            <td>@nv.IDPB_NhanVien</td>
                            <td>
                                <a href="@Url.Action("SuaNV", "NhanVien", new { id = nv.IDNhanVien })" class="btn btn-edit-accent btn-sm" title="Sửa thông tin">
                                    <i class="fas fa-edit"></i>
                                </a>
                                <a href="@Url.Action("XoaNV", "NhanVien", new { id = nv.IDNhanVien })"
                                   class="btn btn-delete-danger-themed btn-sm"
                                   title="Xóa nhân viên"
                                   onclick="return confirm('Bạn có chắc chắn muốn xóa nhân viên @nv.FullNameNhanVien không?');">
                                    <i class="fas fa-trash-alt"></i>
                                </a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>