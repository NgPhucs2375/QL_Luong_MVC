@model QL_Luong_MVC.Models.NhanVien
@{
    ViewBag.Title = "Sửa thông tin nhân viên";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-4">
    <h2 class="text-center mb-4 text-primary">🛠️ Sửa thông tin nhân viên</h2>

    @if (Model == null)
    {
        <div class="alert alert-warning text-center">
            Không có dữ liệu nhân viên. Vui lòng chọn nhân viên để sửa.
        </div>
        <div class="text-center mt-3">
            <a href="@Url.Action("DanhSachNV", "NhanVien")" class="btn btn-secondary">↩ Quay lại danh sách</a>
        </div>
    }
    else
    {
        using (Html.BeginForm("SuaNV", "NhanVien", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.IDNhanVien)

            <div class="form-group mb-3">
                <label><b>Họ tên</b></label>
                @Html.TextBoxFor(m => m.FullNameNhanVien, new { @class = "form-control", placeholder = "Nhập họ tên", required = "required" })
            </div>

            <div class="form-group mb-3">
                <label><b>Ngày sinh</b></label>
                @Html.TextBoxFor(m => m.DayOfBirth_NhanVien, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date", required = "required" })
            </div>

            <div class="form-group mb-3">
                <label><b>Giới tính</b></label>
                @Html.DropDownListFor(
                              m => m.Sex_NhanVien,
                              new SelectList(new[] { "Nam", "Nữ" }, Model.Sex_NhanVien),
                              "Chọn giới tính",
                              new { @class = "form-control" }
                          )
            </div>

            <div class="form-group mb-3">
                <label><b>Địa chỉ</b></label>
                @Html.TextBoxFor(m => m.Address_NhanVien, new { @class = "form-control", placeholder = "Nhập địa chỉ" })
            </div>

            <div class="form-group mb-3">
                <label><b>Điện thoại</b></label>
                @Html.TextBoxFor(m => m.SDT_NhanVien, new { @class = "form-control", placeholder = "Nhập số điện thoại" })
            </div>

            <div class="form-group mb-3">
                <label><b>Email</b></label>
                @Html.TextBoxFor(m => m.Email_NhanVien, new { @class = "form-control", placeholder = "Nhập email", type = "email" })
            </div>

            <div class="form-group mb-4">
                <label><b>Trạng thái</b></label>
                @Html.DropDownListFor(
                              m => m.State_NhanVien,
                              new SelectList(new[] { "Đang làm", "Đã nghỉ", "Tạm nghỉ" }, Model.State_NhanVien),
                              "Chọn trạng thái",
                              new { @class = "form-control" }
                          )
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-success px-4">💾 Lưu thay đổi</button>
                <a href="@Url.Action("DanhSachNV", "NhanVien")" class="btn btn-secondary px-4 ms-2">↩ Quay lại</a>
            </div>
        }
    }

    @if (!string.IsNullOrEmpty(ViewBag.ThongBao))
    {
        <div class="alert alert-info mt-3 text-center">
            @ViewBag.ThongBao
        </div>
    }
</div>