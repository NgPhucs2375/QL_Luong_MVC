@model QL_Luong_MVC.Models.NhanVien
@{
    ViewBag.Title = "Sửa thông tin nhân viên";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    /* CSS Tùy chỉnh cho Edit Form */
    .edit-card {
        /* Kế thừa từ theme glassmorphism */
        border: none;
        padding: 3rem 4rem;
        border-radius: 18px;
        background-color: var(--color-content-bg) !important;
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 15px rgba(106, 13, 173, 0.15);
    }

    .edit-header {
        color: var(--color-text-dark-purple);
        font-weight: 700;
        border-bottom: 3px solid rgba(106, 13, 173, 0.2);
        padding-bottom: 15px;
        margin-bottom: 30px;
    }

    /* Label và Input */
    .form-group label {
        color: #6A0DAD; /* Tím đậm cho label */
        font-weight: 700 !important;
        margin-bottom: 0.3rem;
        display: block; /* Đảm bảo label chiếm đủ không gian */
    }

    .form-control-themed {
        border-radius: 8px;
        border: 1px solid rgba(106, 13, 173, 0.3); /* Viền tím mờ */
        transition: 0.2s;
    }

        .form-control-themed:focus {
            border-color: #7B68EE;
            box-shadow: 0 0 5px rgba(155, 120, 255, 0.5);
        }

    /* Nút Lưu (Primary Action - Vàng Nhấn 10%) */
    .btn-save-accent {
        background-color: var(--color-accent) !important; /* Vàng #FFC107 */
        border-color: var(--color-accent) !important;
        color: var(--color-text-dark-purple) !important; /* Chữ Tím đậm */
        font-weight: 700;
        transition: all 0.2s ease;
    }

        .btn-save-accent:hover {
            background-color: var(--color-accent-hover) !important; /* Cam #FFB74D */
            border-color: var(--color-accent-hover) !important;
            transform: translateY(-2px);
        }

    /* Nút Quay Lại (Secondary Action - Tím) */
    .btn-back-secondary {
        background-color: #9370DB !important; /* Tím trung bình */
        color: white !important;
        border-color: #9370DB !important;
        font-weight: 600;
        transition: all 0.2s ease;
    }

        .btn-back-secondary:hover {
            background-color: #7B68EE !important;
        }

    /* Alert Tím nhạt */
    .alert-themed-info {
        background-color: #e3e0f9 !important; /* Tím siêu nhạt */
        color: #4a148c !important; /* Tím đậm */
        border: 1px solid #cbb2ff !important;
        font-weight: 600;
        border-radius: 10px;
    }
</style>

<div class="container-fluid py-5">

    <h2 class="text-center mb-5 edit-header">
        <i class="fas fa-tools mr-2"></i> Sửa thông tin nhân viên
    </h2>

    <div class="card edit-card shadow-lg mx-auto" style="max-width: 900px;">

        @using (Html.BeginForm("SuaNV", "NhanVien", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.IDNhanVien)

            <div class="row">
                <div class="col-md-6">
                    <h5 class="mb-4" style="color: var(--color-text-dark-purple);"><i class="fas fa-user-circle me-2"></i> Thông tin cá nhân</h5>
                    <div class="form-group mb-4">
                        <label><i class="fas fa-signature me-2"></i> Họ tên</label>
                        @Html.TextBoxFor(m => m.FullNameNhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập họ tên...", required = "required" })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-birthday-cake me-2"></i> Ngày sinh</label>
                        @Html.TextBoxFor(m => m.DayOfBirth_NhanVien, "{0:yyyy-MM-dd}", new { @class = "form-control form-control-themed", type = "date", required = "required" })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-venus-mars me-2"></i> Giới tính</label>
                        @Html.DropDownListFor(m => m.Sex_NhanVien,
                            new SelectList(new[] { "Nam", "Nữ" }, Model.Sex_NhanVien),
                            "-- Chọn giới tính --",
                            new { @class = "form-control form-control-themed" })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-map-marker-alt me-2"></i> Địa chỉ</label>
                        @Html.TextBoxFor(m => m.Address_NhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập địa chỉ..." })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-phone me-2"></i> Số điện thoại</label>
                        @Html.TextBoxFor(m => m.SDT_NhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập số điện thoại..." })
                    </div>
                </div>

                <div class="col-md-6">
                    <h5 class="mb-4" style="color: var(--color-text-dark-purple);"><i class="fas fa-briefcase me-2"></i> Thông tin công việc</h5>
                    <div class="form-group mb-4">
                        <label><i class="fas fa-envelope me-2"></i> Email</label>
                        @Html.TextBoxFor(m => m.Email_NhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập email...", type = "email" })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-user-check me-2"></i> Trạng thái</label>
                        @Html.DropDownListFor(m => m.State_NhanVien,
                            new SelectList(new[] { "Đang làm", "Tạm nghỉ", "Đã nghỉ" }, Model.State_NhanVien),
                            "-- Chọn trạng thái --",
                            new { @class = "form-control form-control-themed" })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-id-badge me-2"></i> Chức vụ (Mã CV)</label>
                        @Html.TextBoxFor(m => m.IDCV_NhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập mã chức vụ..." })
                    </div>

                    <div class="form-group mb-4">
                        <label><i class="fas fa-building me-2"></i> Phòng ban (Mã PB)</label>
                        @Html.TextBoxFor(m => m.IDPB_NhanVien, new { @class = "form-control form-control-themed", placeholder = "Nhập mã phòng ban..." })
                    </div>
                </div>
            </div>

            <div class="text-center pt-4 border-top mt-4">
                <button type="submit" class="btn btn-save-accent btn-lg px-5">
                    <i class="fas fa-save me-2"></i> Lưu thay đổi
                </button>
                <a href="@Url.Action("DanhSachNV", "NhanVien")" class="btn btn-back-secondary btn-lg px-5 ms-3">
                    <i class="fas fa-arrow-left"></i> Quay lại
                </a>
            </div>
        }
    </div>

    @if (ViewBag.ThongBao != null)
    {
        <div class="alert mt-4 text-center alert-themed-info mx-auto" style="max-width: 900px;">
            <i class="fas fa-info-circle me-2"></i> @ViewBag.ThongBao
        </div>
    }
</div>